{"version":3,"sources":["components/filter.js","components/person.js","components/persons.js","components/notification.js","components/error-notification.js","services/methods.js","App.js","index.js"],"names":["Filter","searchKey","changeSearch","type","placeholder","value","onChange","Person","addName","newName","changeName","newNumber","changeNumber","onSubmit","Persons","persons","remove","filter","person","name","toLowerCase","includes","toLocaleLowerCase","map","style","listStyle","number","onClick","id","Notification","message","className","ErrorNotification","errorMessage","baseUrl","axios","get","then","res","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setSearchKey","setMessage","setErrorMessage","useEffect","methodService","initialPersons","e","target","preventDefault","personObject","some","window","confirm","personX","find","i","changedPerson","setTimeout","catch","error","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.87433da4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({searchKey, changeSearch}) => {\r\n    return (\r\n        <div>\r\n            Filter shown with <input\r\n            type='text' placeholder='Search..' value={searchKey} onChange={changeSearch}>\r\n            </input>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({addName, newName, changeName, newNumber, changeNumber}) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>\r\n                name: <input \r\n                value={newName}\r\n                onChange={changeName} />\r\n            </div>\r\n            <div>\r\n                number: <input \r\n                value={newNumber}\r\n                onChange={changeNumber} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Persons = ({searchKey, persons, remove}) => {\r\n    const namesToShow = !searchKey ? persons : persons.filter\r\n    (person => person.name.toLowerCase().includes(searchKey.toLocaleLowerCase()));\r\n\r\n    return (\r\n      namesToShow.map( person =>\r\n        <li style={{listStyle: 'none'}}\r\n        key={person.name}> {person.name} {person.number}\r\n        <button onClick={() => remove(person.id, person.name)}>delete</button>\r\n        </li>\r\n      ))};\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"success\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst ErrorNotification = ({errorMessage}) => {\r\n    if (errorMessage === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {errorMessage}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ErrorNotification","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll= () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst removePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nexport default {\r\n    getAll, create, update, removePerson\r\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/filter'\nimport Person from './components/person'\nimport Persons from './components/persons'\nimport Notification from './components/notification'\nimport ErrorNotification from './components/error-notification'\nimport methodService from './services/methods'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchKey, setSearchKey ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    methodService\n      .getAll()\n      .then(initialPersons =>\n        setPersons(initialPersons)\n      )\n  }, [])\n\n  const addName = (e) => {\n    e.preventDefault();\n      const personObject = {\n      name: newName,\n      number: newNumber,\n      id: newName\n    }\n\n    if (persons.some(e => e.name.toLowerCase() === newName.toLowerCase())) {\n      const confirm = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n\n      if (confirm) {\n        const personX = persons.find(i => i.name.toLowerCase() === newName.toLowerCase())\n        const changedPerson = { ...personX, number: personObject.number}\n    \n        methodService\n          .update(personX.id, changedPerson)\n          .then(() => {\n            setPersons(persons.map(i => i.id !== personX.id ? i : changedPerson))\n            setNewName('')\n            setNewNumber('')\n            setMessage(\n              `Updated ${personX.name}`\n            )\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage (\n              `${personX.name} has already been deleted from the server`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(i=> i.id !== personX.id))\n          })\n        }\n\n        else {\n          setNewName('')\n          setNewNumber('')\n        }\n\n    } else {\n    methodService\n    .create(personObject)\n    .then(returnedPerson => {\n    setPersons(persons.concat(returnedPerson))\n    setNewName('')\n    setNewNumber('')\n    setMessage(`Added ${personObject.name}`)\n    setTimeout(()=> {\n      setMessage(null)\n    }, 5000)\n    })\n  }}\n\n  const remove = (id, person) => {\n    const confirmDelete = window.confirm(`Delete ${person}?`);\n    if (confirmDelete) {\n      methodService\n        .removePerson(id)\n        .then(() => setPersons(persons.filter((person) => person.id !== id)))\n        .catch((error) => {\n          setErrorMessage((`${person} has already been deleted from the server`))\n          setTimeout(()=> {setErrorMessage(null)}, 5000)\n          setPersons(persons.filter((person) => person.id !== id))\n        })\n\n    } else {\n      return\n    }\n  }\n\n\n  const changeName = (e) => {\n    setNewName(e.target.value);\n  }\n\n  const changeNumber = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const changeSearch = (e) => {\n    setSearchKey(e.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <ErrorNotification errorMessage={errorMessage}/>\n      < Filter searchKey={searchKey} changeSearch={changeSearch}/>\n      <h3>Add New</h3>\n      <Person addName={addName} newName={newName} changeName={changeName} newNumber={newNumber} changeNumber={changeNumber} />\n      <h3>Numbers</h3>\n      <Persons persons={persons} searchKey={searchKey} remove={remove}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}